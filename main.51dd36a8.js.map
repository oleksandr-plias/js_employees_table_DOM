{"version":3,"sources":["scripts/main.js"],"names":["activeRow","table","document","querySelector","tableHead","tableBody","counter","lastClickedIndex","addEventListener","e","index","target","cellIndex","rows","sortedRows","Array","from","querySelectorAll","sort","rowA","rowB","cellA","textContent","cellB","sortDirection","parseFloat","replace","localeCompare","append","classList","remove","clickedRow","parentNode","add","form","createElement","className","innerHTML","body","pushNotification","title","description","type","notification","h2","p","setAttribute","innerText","setTimeout","preventDefault","formData","FormData","formValues","Object","fromEntries","entries","name","length","ageCheck","age","position","salary","tr","office","Number","toLocaleString","reset","evnt","text","input","selectCity","forEach","option","city","focus","value","ev","key","blur"],"mappings":"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","file":"main.51dd36a8.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tableHead = table.querySelector('thead');\nconst tableBody = table.querySelector('tbody');\n\nlet counter = 1;\nlet lastClickedIndex = null;\n\ntableHead.addEventListener('click', e => {\n  const index = e.target.cellIndex;\n\n  if (lastClickedIndex !== index) {\n    counter = 1;\n    lastClickedIndex = index;\n  } else {\n    counter++;\n  }\n\n  const rows = Array.from(tableBody.querySelectorAll('tr'));\n  const sortedRows = rows.sort((rowA, rowB) => {\n    const cellA = rowA.querySelectorAll('td')[index].textContent;\n    const cellB = rowB.querySelectorAll('td')[index].textContent;\n\n    let sortDirection = 1;\n\n    if (counter % 2 === 0) {\n      sortDirection = -1;\n    }\n\n    if (index === 4) {\n      const numA = parseFloat(cellA.replace(/[^0-9.-]+/g, ''));\n      const numB = parseFloat(cellB.replace(/[^0-9.-]+/g, ''));\n\n      return sortDirection * (numA - numB);\n    } else {\n      return sortDirection * cellA.localeCompare(cellB);\n    }\n  });\n\n  tableBody.append(...sortedRows);\n});\n\nlet activeRow;\n\ntableBody.addEventListener('click', (e) => {\n  if (activeRow) {\n    activeRow.classList.remove('active');\n  }\n\n  const clickedRow = e.target.parentNode;\n\n  clickedRow.classList.add('active');\n\n  activeRow = clickedRow;\n});\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\nform.innerHTML = `\n  <label>Name: <input id=\"input\" name=\"name\" type=\"text\" data-qa=\"name\"></label>\n  <label>Position:\n    <input name=\"position\" type=\"text\" data-qa=\"position\">\n  </label>\n  <label>Office:\n    <select name=\"office\" data-qa=\"office\">\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>Age: <input name=\"age\" type=\"number\" data-qa=\"age\"></label>\n  <label>Salary: <input name=\"salary\" type=\"number\" data-qa=\"salary\">\n  </label>\n  <button type=\"submit\">Save to table</button>\n`;\n\ndocument.body.append(form);\n\nconst pushNotification = (title, description, type) => {\n  const notification = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  notification.classList.add('notification', type);\n  notification.setAttribute('data-qa', 'notification');\n\n  h2.className = 'title';\n  h2.innerText = title;\n\n  p.innerText = description;\n\n  notification.append(h2, p);\n\n  document.body.append(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 2000);\n};\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const notification = document.querySelector('.notification');\n\n  if (notification) {\n    notification.remove();\n  }\n\n  const formData = new FormData(e.target);\n  const formValues = Object.fromEntries(formData.entries());\n\n  if (formValues.name.length < 4) {\n    pushNotification('Error', 'Name should contain more than 3 letters',\n      'error');\n\n    return;\n  }\n\n  const ageCheck = +(formValues.age) < 18 || +(formValues.age) > 90;\n\n  if (ageCheck) {\n    pushNotification('Error', 'Age must be between 18 and 90', 'error');\n\n    return;\n  }\n\n  if (!formValues.position || !formValues.salary) {\n    pushNotification('Error', 'All fields are required', 'error');\n\n    return;\n  }\n\n  const tr = document.createElement('tr');\n\n  tr.innerHTML = `\n    <td>${formValues.name}</td>\n    <td>${formValues.position}</td>\n    <td>${formValues.office}</td>\n    <td>${formValues.age}</td>\n    <td>$${Number(formValues.salary).toLocaleString()}</td>\n  `;\n\n  tableBody.append(tr);\n  form.reset();\n\n  pushNotification('Success', 'New employee was added', 'success');\n});\n\ntableBody.addEventListener('dblclick', (evnt) => {\n  const text = evnt.target.textContent;\n  const index = evnt.target.cellIndex;\n\n  evnt.target.textContent = '';\n\n  let input = document.createElement('input');\n\n  input.classList.add('cell-input');\n\n  if (index === 2) {\n    const selectCity = document.createElement('select');\n    const cityList = [\n      `Tokyo`,\n      `Singapore`,\n      `London`,\n      `New York`,\n      `Edinburgh`,\n      `San Francisco`,\n    ];\n\n    cityList.forEach((option) => {\n      const city = document.createElement('option');\n\n      city.textContent = option;\n      selectCity.append(city);\n    });\n    input = selectCity;\n  }\n\n  evnt.target.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    switch (index) {\n      case 0:\n        if (input.value.length < 4) {\n          pushNotification(\n            'error',\n            'Name value should have more than 4 letters'\n          );\n          evnt.target.textContent = text;\n        } else {\n          evnt.target.textContent = input.value;\n        }\n        break;\n\n      case 1:\n        if (input.value) {\n          evnt.target.textContent = input.value;\n        } else {\n          pushNotification('error', 'All fields are required');\n          evnt.target.textContent = text;\n        }\n        break;\n\n      case 2:\n        if (input.value) {\n          evnt.target.textContent = input.value;\n        } else {\n          evnt.target.textContent = text;\n        }\n        break;\n\n      case 3:\n        if (input.value < 18 || input.value > 90) {\n          pushNotification(\n            'error',\n            'Age value is not valid. Employee must be an adult'\n          );\n\n          evnt.target.textContent = text;\n        } else {\n          evnt.target.textContent = input.value;\n        }\n        break;\n\n      case 4:\n        if (input.value && input.value > 0) {\n          evnt.target.textContent\n            = '$' + Number(input.value).toLocaleString('en-US');\n        } else {\n          pushNotification(\n            'error',\n            'Salary value is not valid. It must be more than zero'\n          );\n          evnt.target.textContent = text;\n        }\n        break;\n    }\n    input.remove();\n  });\n\n  input.addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      input.blur();\n    }\n  });\n});\n"]}